友元

作用：允许指定的函数、类或成员函数直接访问另一个类的**私有（private）** 和**保护（protected）** 成员，而无需通过类的公有接口。

特点：

1.在类内声明，在类外定义

2.`A`是B的友元不等于B是A的友元，A可以访问B，但是B不一定能访问A，A是B的友元，B是C的友元不等于A是C的友元

3.友元函数不是类的成员，友元类也独立于被授权类

实现友元的3个语法：

**friend void show(A&a);**

**friend class A**

**friend void B::show(A&a)**

**全局函数做友元**

```c++
class Student;//提前声明类
void quanju(Student&s);//全局函数声明
class Student{//被授权的类
public:
friend void quanju(Student&s);类内声明，将全局函数设成友元
private:
int age;
}
void quanju(Student &s){//全局函数定义
cout<<s.age<<endl;
}
int main(){
Student  s;
quanju(s);
return  0;
}
```

**类做友元**

```c++
class A;// 提前声明类A（因为类B的定义中要用到A）
class B{
public:    // 成员函数：要访问A的私有成员，需接收A的对象参数
void show(A&a);
}
class A{
private:
int age;
string name;
public: // 类内声明：将类B设为友元
friend class B;
}
void B::show(A&a){// 类B成员函数的定义（此时可访问A的私有成员）
cout<<a.age<<a.name<<endl;
}
int main(){
A a;
B b;
b.show(A&a);
return 0;
}
```

**类的成员函数做友元**

```c++
class A;
class B{
    public:
     void show(A& a);
     void noshow(A& a);
}
class A{
    private:
     int age;
     string name;
    public:
     friend void B::show(A& a);
}
void B::show(A&a){
    cout << a.age << a.name << endl;
}
void B::noshow(A&a){//无友元权限，报错
    cout << a.age << a.name << endl;
}
int main(){
    A a;
    B b;
    b.show(A & a);
    b.noshow(A & a);
    return 0;
}
```

